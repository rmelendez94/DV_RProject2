# Create the Point Plot; POUTCOME/DURATION lower percentile
ggplot() +
coord_cartesian() +
scale_x_continuous() +
scale_y_discrete() +
facet_grid(Y~.) +
labs(title='Portuguese Bank Marketing Campaign Effectiveness (Percentile < 40th & Percentile > 90)') +
labs(x="Duration", y=paste("Past Marketing Effectiveness")) +
layer(data=pd,
mapping=aes(x=as.numeric(as.character(DURATION)), y=as.character(POUTCOME), color=Y),
stat="identity",
stat_params=list(),
geom="point",
geom_params=list(alpha=.8),
position=position_jitter(width=0, height=0.3)
)
# Create the Point Plot; POUTCOME/DURATION with only no filtered
ggplot() +
coord_cartesian() +
scale_x_continuous() +
scale_y_discrete() +
facet_grid(Y~.) +
labs(title='Term Loan Failure (Percentile < 40th)') +
labs(x="Duration", y=paste("Past Marketing Effectiveness")) +
layer(data=npd,
mapping=aes(x=as.numeric(as.character(DURATION)), y=as.character(POUTCOME), color = Y),
stat="identity",
stat_params=list(),
geom="point",
geom_params=list(alpha=.55),
position=position_jitter(width=0, height=0.3)
)
# Create the Point Plot; POUTCOME/DURATION with only yes filtered
ggplot() +
coord_cartesian() +
scale_x_continuous() +
scale_y_discrete() +
facet_grid(Y~.) +
labs(title='Term Loan Success (Percentile > 80th)') +
labs(x="Duration", y=paste("Past Marketing Effectiveness")) +
layer(data=ypd,
mapping=aes(x=as.numeric(as.character(DURATION)), y=as.character(POUTCOME), color = Y),
stat="identity",
stat_params=list(),
geom="point",
geom_params=list(alpha=.55),
position=position_jitter(width=0, height=0.3)
)
require(tidyr)
require(dplyr)
require(extrafont)
require(ggplot2)
# Uncomment the following to view the original data
# tbl_df(df)
# View(df)
# This shows only those who fall below the 40th and above the 90th percentile for call duration during the Marketing campaign
pd <- df %>% mutate(DURATIONPERCENT = ntile(DURATION, 100)) %>% arrange(DURATIONPERCENT) %>% select(POUTCOME, DURATION, Y, DURATIONPERCENT) %>% filter(DURATIONPERCENT < 20 | DURATIONPERCENT > 80)
#View(pd) # Uncomment to view the results
npd <- df %>% mutate(DURATIONPERCENT = ntile(DURATION, 100)) %>% arrange(DURATIONPERCENT) %>% select(POUTCOME, DURATION, Y, DURATIONPERCENT) %>% filter(DURATIONPERCENT < 20)
#View(npd) # Uncomment to view the results
#This shows the 90th percentile and above for call duration during the Marketing campaign also filtering only yes
ypd <- df %>% mutate(DURATIONPERCENT = ntile(DURATION, 100)) %>% arrange(DURATIONPERCENT) %>% select(POUTCOME, DURATION, Y, DURATIONPERCENT) %>% filter(DURATIONPERCENT > 80)
#View(ypd) # Uncomment to view the results
# Create the Point Plot; POUTCOME/DURATION lower percentile
ggplot() +
coord_cartesian() +
scale_x_continuous() +
scale_y_discrete() +
facet_grid(Y~.) +
labs(title='Portuguese Bank Marketing Campaign Effectiveness (Percentile < 40th & Percentile > 90)') +
labs(x="Duration", y=paste("Past Marketing Effectiveness")) +
layer(data=pd,
mapping=aes(x=as.numeric(as.character(DURATION)), y=as.character(POUTCOME), color=Y),
stat="identity",
stat_params=list(),
geom="point",
geom_params=list(alpha=.8),
position=position_jitter(width=0, height=0.3)
)+
layer(data=pd,
mapping=aes(x=as.numeric(as.character(DURATION)), y=as.character(POUTCOME), color=Y),
stat="identity",
stat_params=list(),
geom="smooth",
geom_params=list(alpha=.8),
position=position_jitter(width=0, height=0.3)
)
# Create the Point Plot; POUTCOME/DURATION with only no filtered
ggplot() +
coord_cartesian() +
scale_x_continuous() +
scale_y_discrete() +
facet_grid(Y~.) +
labs(title='Term Loan Failure (Percentile < 40th)') +
labs(x="Duration", y=paste("Past Marketing Effectiveness")) +
layer(data=npd,
mapping=aes(x=as.numeric(as.character(DURATION)), y=as.character(POUTCOME), color = Y),
stat="identity",
stat_params=list(),
geom="point",
geom_params=list(alpha=.55),
position=position_jitter(width=0, height=0.3)
)
# Create the Point Plot; POUTCOME/DURATION with only yes filtered
ggplot() +
coord_cartesian() +
scale_x_continuous() +
scale_y_discrete() +
facet_grid(Y~.) +
labs(title='Term Loan Success (Percentile > 80th)') +
labs(x="Duration", y=paste("Past Marketing Effectiveness")) +
layer(data=ypd,
mapping=aes(x=as.numeric(as.character(DURATION)), y=as.character(POUTCOME), color = Y),
stat="identity",
stat_params=list(),
geom="point",
geom_params=list(alpha=.55),
position=position_jitter(width=0, height=0.3)
)
require(tidyr)
require(dplyr)
require(extrafont)
require(ggplot2)
# Uncomment the following to view the original data
# tbl_df(df)
# View(df)
# This shows only those who fall below the 40th and above the 90th percentile for call duration during the Marketing campaign
pd <- df %>% mutate(DURATIONPERCENT = ntile(DURATION, 100)) %>% arrange(DURATIONPERCENT) %>% select(POUTCOME, DURATION, Y, DURATIONPERCENT) %>% filter(DURATIONPERCENT < 20 | DURATIONPERCENT > 80)
#View(pd) # Uncomment to view the results
npd <- df %>% mutate(DURATIONPERCENT = ntile(DURATION, 100)) %>% arrange(DURATIONPERCENT) %>% select(POUTCOME, DURATION, Y, DURATIONPERCENT) %>% filter(DURATIONPERCENT < 20)
#View(npd) # Uncomment to view the results
#This shows the 90th percentile and above for call duration during the Marketing campaign also filtering only yes
ypd <- df %>% mutate(DURATIONPERCENT = ntile(DURATION, 100)) %>% arrange(DURATIONPERCENT) %>% select(POUTCOME, DURATION, Y, DURATIONPERCENT) %>% filter(DURATIONPERCENT > 80)
#View(ypd) # Uncomment to view the results
# Create the Point Plot; POUTCOME/DURATION lower percentile
ggplot() +
coord_cartesian() +
scale_x_continuous() +
scale_y_discrete() +
facet_grid(Y~.) +
labs(title='Portuguese Bank Marketing Campaign Effectiveness (Percentile < 40th & Percentile > 90)') +
labs(x="Duration", y=paste("Past Marketing Effectiveness")) +
layer(data=pd,
mapping=aes(x=as.numeric(as.character(DURATION)), y=as.character(POUTCOME), color=Y),
stat="identity",
stat_params=list(),
geom="point",
geom_params=list(alpha=.8),
position=position_jitter(width=0, height=0.3)
)+
layer(data=pd,
mapping=aes(x=as.numeric(as.character(DURATION)), y=as.character(POUTCOME), color=POUTCOME),
stat="identity",
stat_params=list(),
geom="smooth",
geom_params=list(alpha=.8),
position=position_jitter(width=0, height=0.3)
)
# Create the Point Plot; POUTCOME/DURATION with only no filtered
ggplot() +
coord_cartesian() +
scale_x_continuous() +
scale_y_discrete() +
facet_grid(Y~.) +
labs(title='Term Loan Failure (Percentile < 40th)') +
labs(x="Duration", y=paste("Past Marketing Effectiveness")) +
layer(data=npd,
mapping=aes(x=as.numeric(as.character(DURATION)), y=as.character(POUTCOME), color = Y),
stat="identity",
stat_params=list(),
geom="point",
geom_params=list(alpha=.55),
position=position_jitter(width=0, height=0.3)
)
# Create the Point Plot; POUTCOME/DURATION with only yes filtered
ggplot() +
coord_cartesian() +
scale_x_continuous() +
scale_y_discrete() +
facet_grid(Y~.) +
labs(title='Term Loan Success (Percentile > 80th)') +
labs(x="Duration", y=paste("Past Marketing Effectiveness")) +
layer(data=ypd,
mapping=aes(x=as.numeric(as.character(DURATION)), y=as.character(POUTCOME), color = Y),
stat="identity",
stat_params=list(),
geom="point",
geom_params=list(alpha=.55),
position=position_jitter(width=0, height=0.3)
)
require(tidyr)
require(dplyr)
require(extrafont)
require(ggplot2)
# Uncomment the following to view the original data
# tbl_df(df)
# View(df)
# This shows only those who fall below the 40th and above the 90th percentile for call duration during the Marketing campaign
pd <- df %>% mutate(DURATIONPERCENT = ntile(DURATION, 100)) %>% arrange(DURATIONPERCENT) %>% select(POUTCOME, DURATION, Y, DURATIONPERCENT) %>% filter(DURATIONPERCENT < 20 | DURATIONPERCENT > 80)
#View(pd) # Uncomment to view the results
npd <- df %>% mutate(DURATIONPERCENT = ntile(DURATION, 100)) %>% arrange(DURATIONPERCENT) %>% select(POUTCOME, DURATION, Y, DURATIONPERCENT) %>% filter(DURATIONPERCENT < 20)
#View(npd) # Uncomment to view the results
#This shows the 90th percentile and above for call duration during the Marketing campaign also filtering only yes
ypd <- df %>% mutate(DURATIONPERCENT = ntile(DURATION, 100)) %>% arrange(DURATIONPERCENT) %>% select(POUTCOME, DURATION, Y, DURATIONPERCENT) %>% filter(DURATIONPERCENT > 80)
#View(ypd) # Uncomment to view the results
# Create the Point Plot; POUTCOME/DURATION lower percentile
ggplot() +
coord_cartesian() +
scale_x_continuous() +
scale_y_discrete() +
facet_grid(Y~.) +
labs(title='Portuguese Bank Marketing Campaign Effectiveness (Percentile < 40th & Percentile > 90)') +
labs(x="Duration", y=paste("Past Marketing Effectiveness")) +
layer(data=pd,
mapping=aes(x=as.numeric(as.character(DURATION)), y=as.character(POUTCOME), color=Y),
stat="identity",
stat_params=list(),
geom="point",
geom_params=list(alpha=.8),
position=position_jitter(width=0, height=0.3)
)+
layer(data=pd,
mapping=aes(x=as.numeric(as.character(DURATION)), y=as.character(POUTCOME)),
stat="identity",
stat_params=list(),
geom="smooth",
geom_params=list(alpha=.8, color=POUTCOME),
position=position_jitter(width=0, height=0.3)
)
# Create the Point Plot; POUTCOME/DURATION with only no filtered
ggplot() +
coord_cartesian() +
scale_x_continuous() +
scale_y_discrete() +
facet_grid(Y~.) +
labs(title='Term Loan Failure (Percentile < 40th)') +
labs(x="Duration", y=paste("Past Marketing Effectiveness")) +
layer(data=npd,
mapping=aes(x=as.numeric(as.character(DURATION)), y=as.character(POUTCOME), color = Y),
stat="identity",
stat_params=list(),
geom="point",
geom_params=list(alpha=.55),
position=position_jitter(width=0, height=0.3)
)
# Create the Point Plot; POUTCOME/DURATION with only yes filtered
ggplot() +
coord_cartesian() +
scale_x_continuous() +
scale_y_discrete() +
facet_grid(Y~.) +
labs(title='Term Loan Success (Percentile > 80th)') +
labs(x="Duration", y=paste("Past Marketing Effectiveness")) +
layer(data=ypd,
mapping=aes(x=as.numeric(as.character(DURATION)), y=as.character(POUTCOME), color = Y),
stat="identity",
stat_params=list(),
geom="point",
geom_params=list(alpha=.55),
position=position_jitter(width=0, height=0.3)
)
ggplot() +
coord_cartesian() +
scale_x_continuous() +
scale_y_discrete() +
facet_grid(Y~.) +
labs(title='Portuguese Bank Marketing Campaign Effectiveness (Percentile < 40th & Percentile > 90)') +
labs(x="Duration", y=paste("Past Marketing Effectiveness")) +
layer(data=pd,
mapping=aes(x=as.numeric(as.character(DURATION)), y=as.character(POUTCOME), color=Y),
stat="identity",
stat_params=list(),
geom="point",
geom_params=list(alpha=.8),
position=position_jitter(width=0, height=0.3)
)+
layer(data=pd,
mapping=aes(x=as.numeric(as.character(DURATION)), y=as.character(POUTCOME)),
stat="identity",
stat_params=list(),
geom="smooth",
geom_params=list(alpha=.8, color="blue"),
position=position_jitter(width=0, height=0.3)
)
ggplot() +
coord_cartesian() +
scale_x_continuous() +
scale_y_discrete() +
facet_grid(Y~.) +
labs(title='Portuguese Bank Marketing Campaign Effectiveness (Percentile < 40th & Percentile > 90)') +
labs(x="Duration", y=paste("Past Marketing Effectiveness")) +
layer(data=pd,
mapping=aes(x=as.numeric(as.character(DURATION)), y=as.character(POUTCOME), color=Y),
stat="identity",
stat_params=list(),
geom="point",
geom_params=list(alpha=.8),
position=position_jitter(width=0, height=0.3)
)+
layer(data=pd,
mapping=aes(x=as.numeric(as.character(DURATION)), y=as.character(POUTCOME)),
stat="identity",
stat_params=list(),
geom="dotplot",
geom_params=list(alpha=.8, color="blue"),
position=position_jitter(width=0, height=0.3)
)
ggplot() +
coord_cartesian() +
scale_x_continuous() +
scale_y_discrete() +
facet_grid(Y~.) +
labs(title='Portuguese Bank Marketing Campaign Effectiveness (Percentile < 40th & Percentile > 90)') +
labs(x="Duration", y=paste("Past Marketing Effectiveness")) +
layer(data=pd,
mapping=aes(x=as.numeric(as.character(DURATION)), y=as.character(POUTCOME), color=Y),
stat="identity",
stat_params=list(),
geom="point",
geom_params=list(alpha=.8),
position=position_jitter(width=0, height=0.3)
)
ggplot() +
coord_cartesian() +
scale_x_continuous() +
scale_y_discrete() +
facet_grid(Y~.) +
labs(title='Portuguese Bank Marketing Campaign Effectiveness (Percentile < 40th & Percentile > 90)') +
labs(x="Duration", y=paste("Past Marketing Effectiveness")) +
layer(data=pd,
mapping=aes(x=as.numeric(as.character(DURATION)), y=as.character(POUTCOME), color=Y),
stat="identity",
stat_params=list(),
geom="jitter",
geom_params=list(alpha=.8),
position=position_jitter(width=0, height=0.3)
)
ggplot() +
coord_cartesian() +
scale_x_continuous() +
scale_y_discrete() +
facet_grid(Y~.) +
labs(title='Portuguese Bank Marketing Campaign Effectiveness (Percentile < 40th & Percentile > 90)') +
labs(x="Duration", y=paste("Past Marketing Effectiveness")) +
layer(data=pd,
mapping=aes(x=as.numeric(as.character(DURATION)), y=as.character(POUTCOME), color=Y),
stat="identity",
stat_params=list(),
geom="jitter",
geom_params=list(alpha=.8),
position="identity"#position_jitter(width=0, height=0.3)
)
geom="point",
ggplot() +
coord_cartesian() +
scale_x_continuous() +
scale_y_discrete() +
facet_grid(Y~.) +
labs(title='Portuguese Bank Marketing Campaign Effectiveness (Percentile < 40th & Percentile > 90)') +
labs(x="Duration", y=paste("Past Marketing Effectiveness")) +
layer(data=pd,
mapping=aes(x=as.numeric(as.character(DURATION)), y=as.character(POUTCOME), color=Y),
stat="identity",
stat_params=list(),
geom="point",
geom_params=list(alpha=.8),
position=position_jitter(width=0, height=0.3)
)
require(tidyr)
require(dplyr)
require(extrafont)
require(ggplot2)
# Uncomment the following to view the original data
# tbl_df(df)
# View(df)
# This shows only those who fall below the 40th and above the 90th percentile for call duration during the Marketing campaign
pd <- df %>% mutate(DURATIONPERCENT = ntile(DURATION, 100)) %>% arrange(DURATIONPERCENT) %>% select(POUTCOME, DURATION, Y, DURATIONPERCENT) %>% filter(DURATIONPERCENT < 20 | DURATIONPERCENT > 80)
#View(pd) # Uncomment to view the results
npd <- df %>% mutate(DURATIONPERCENT = ntile(DURATION, 100)) %>% arrange(DURATIONPERCENT) %>% select(POUTCOME, DURATION, Y, DURATIONPERCENT) %>% filter(DURATIONPERCENT < 20)
#View(npd) # Uncomment to view the results
#This shows the 90th percentile and above for call duration during the Marketing campaign also filtering only yes
ypd <- df %>% mutate(DURATIONPERCENT = ntile(DURATION, 100)) %>% arrange(DURATIONPERCENT) %>% select(POUTCOME, DURATION, Y, DURATIONPERCENT) %>% filter(DURATIONPERCENT > 80)
#View(ypd) # Uncomment to view the results
# Create the Point Plot; POUTCOME/DURATION lower percentile
ggplot() +
coord_cartesian() +
scale_x_continuous() +
scale_y_discrete() +
facet_grid(Y~.) +
labs(title='Portuguese Bank Marketing Campaign Effectiveness (Percentile < 40th & Percentile > 90)') +
labs(x="Duration", y=paste("Past Marketing Effectiveness")) +
layer(data=pd,
mapping=aes(x=as.numeric(as.character(DURATION)), y=as.character(POUTCOME), color=Y),
stat="identity",
stat_params=list(),
geom="point",
geom_params=list(alpha=.8),
position=position_jitter(width=0, height=0.3)
)
# Create the Point Plot; POUTCOME/DURATION with only no filtered
ggplot() +
coord_cartesian() +
scale_x_continuous() +
scale_y_discrete() +
facet_grid(Y~.) +
labs(title='Term Loan Failure (Percentile < 40th)') +
labs(x="Duration", y=paste("Past Marketing Effectiveness")) +
layer(data=npd,
mapping=aes(x=as.numeric(as.character(DURATION)), y=as.character(POUTCOME), color = Y),
stat="identity",
stat_params=list(),
geom="point",
geom_params=list(alpha=.55),
position=position_jitter(width=0, height=0.3)
)
# Create the Point Plot; POUTCOME/DURATION with only yes filtered
ggplot() +
coord_cartesian() +
scale_x_continuous() +
scale_y_discrete() +
facet_grid(Y~.) +
labs(title='Term Loan Success (Percentile > 80th)') +
labs(x="Duration", y=paste("Past Marketing Effectiveness")) +
layer(data=ypd,
mapping=aes(x=as.numeric(as.character(DURATION)), y=as.character(POUTCOME), color = Y),
stat="identity",
stat_params=list(),
geom="point",
geom_params=list(alpha=.55),
position=position_jitter(width=0, height=0.3)
)
require(tidyr)
require(dplyr)
require(extrafont)
require(ggplot2)
# Uncomment the following to view the original data
# tbl_df(df)
# View(df)
# This shows only those who fall below the 40th and above the 90th percentile for call duration during the Marketing campaign
pd <- df %>% mutate(DURATIONPERCENT = ntile(DURATION, 100)) %>% arrange(DURATIONPERCENT) %>% select(POUTCOME, DURATION, Y, DURATIONPERCENT) %>% filter(DURATIONPERCENT < 20 | DURATIONPERCENT > 80)
#View(pd) # Uncomment to view the results
#This shows below the 20th percentile for call duration during the Marketing campaign
npd <- df %>% mutate(DURATIONPERCENT = ntile(DURATION, 100)) %>% arrange(DURATIONPERCENT) %>% select(POUTCOME, DURATION, Y, DURATIONPERCENT) %>% filter(DURATIONPERCENT < 20)
#View(npd) # Uncomment to view the results
#This shows above the 80th percentile for call duration during the Marketing campaign
ypd <- df %>% mutate(DURATIONPERCENT = ntile(DURATION, 100)) %>% arrange(DURATIONPERCENT) %>% select(POUTCOME, DURATION, Y, DURATIONPERCENT) %>% filter(DURATIONPERCENT > 80)
#View(ypd) # Uncomment to view the results
# Create the Point Plot; POUTCOME/DURATION lower percentile
ggplot() +
coord_cartesian() +
scale_x_continuous() +
scale_y_discrete() +
facet_grid(Y~.) +
labs(title='Portuguese Bank Marketing Campaign Effectiveness (Percentile < 40th & Percentile > 90)') +
labs(x="Duration", y=paste("Past Marketing Effectiveness")) +
layer(data=pd,
mapping=aes(x=as.numeric(as.character(DURATION)), y=as.character(POUTCOME), color=Y),
stat="identity",
stat_params=list(),
geom="point",
geom_params=list(alpha=.8),
position=position_jitter(width=0, height=0.3)
)
# Create the Point Plot; POUTCOME/DURATION Below 20th Percentile
ggplot() +
coord_cartesian() +
scale_x_continuous() +
scale_y_discrete() +
facet_grid(Y~.) +
labs(title='Marketing Effectiveness (Percentile < 40th)') +
labs(x="Duration", y=paste("Past Marketing Effectiveness")) +
layer(data=npd,
mapping=aes(x=as.numeric(as.character(DURATION)), y=as.character(POUTCOME), color = Y),
stat="identity",
stat_params=list(),
geom="point",
geom_params=list(alpha=.55),
position=position_jitter(width=0, height=0.3)
)
# Create the Point Plot; POUTCOME/DURATION Above 80th Percentile
ggplot() +
coord_cartesian() +
scale_x_continuous() +
scale_y_discrete() +
facet_grid(Y~.) +
labs(title='Marketing Effectiveness (Percentile > 80th)') +
labs(x="Duration", y=paste("Past Marketing Effectiveness")) +
layer(data=ypd,
mapping=aes(x=as.numeric(as.character(DURATION)), y=as.character(POUTCOME), color = Y),
stat="identity",
stat_params=list(),
geom="point",
geom_params=list(alpha=.55),
position=position_jitter(width=0, height=0.3)
)
diamonds %>% mutate(ntile_z = ntile(z,100)) %>% group_by(ntile_z) %>% summarise(n=n()) %>% tbl_df
ggplot() +
coord_cartesian() +
scale_x_continuous() +
scale_y_discrete() +
facet_grid(Y~.) +
labs(title='Portuguese Bank Marketing Campaign Effectiveness
(Percentile < 40th & Percentile > 90)') +
labs(x="Duration", y=paste("Past Marketing Effectiveness")) +
layer(data=pd,
mapping=aes(x=as.numeric(as.character(DURATION)), y=as.character(POUTCOME), color=Y),
stat="identity",
stat_params=list(),
geom="point",
geom_params=list(alpha=.8),
position=position_jitter(width=0, height=0.3)
)
